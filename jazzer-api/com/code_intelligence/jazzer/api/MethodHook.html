<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>MethodHook</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=UTF8">
<meta name="description" content="declaration: package: com.code_intelligence.jazzer.api, annotation type: MethodHook">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-3.6.0.min.js"></script>
<script type="text/javascript" src="../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var pathtoroot = "../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="class-use/MethodHook.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-optional-element-summary">Optional</a>&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-required-element-summary">Required</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#annotation-interface-element-detail">Element</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">com.code_intelligence.jazzer.api</a></div>
<h1 title="Annotation Interface MethodHook" class="title">Annotation Interface MethodHook</h1>
</div>
<section class="class-description" id="class-description">
<hr>
<div class="type-signature"><span class="annotations"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Retention.html" title="class or interface in java.lang.annotation" class="external-link">@Retention</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/RetentionPolicy.html#RUNTIME" title="class or interface in java.lang.annotation" class="external-link">RUNTIME</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Target.html" title="class or interface in java.lang.annotation" class="external-link">@Target</a>(<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/ElementType.html#METHOD" title="class or interface in java.lang.annotation" class="external-link">METHOD</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Repeatable.html" title="class or interface in java.lang.annotation" class="external-link">@Repeatable</a>(<a href="MethodHooks.html" title="annotation interface in com.code_intelligence.jazzer.api">MethodHooks.class</a>)
<a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/annotation/Documented.html" title="class or interface in java.lang.annotation" class="external-link">@Documented</a>
</span><span class="modifiers">public @interface </span><span class="element-name type-name-label">MethodHook</span></div>
<div class="block">Registers the annotated method as a hook that should run before, instead or
 after the method specified by the annotation parameters.
 <p>
 Depending on <a href="#type()"><code>type()</code></a> this method will be called after, instead or
 before every call to the target method and has
 access to its parameters and return value. The target method is specified by
 <a href="#targetClassName()"><code>targetClassName()</code></a> and <a href="#targetMethod()"><code>targetMethod()</code></a>. In case of an
 overloaded method, <a href="#targetMethodDescriptor()"><code>targetMethodDescriptor()</code></a> can be used to restrict
 the application of the hook to a particular overload.
 <p>
 The signature of the annotated method must be as follows (this does not
 restrict the method name and parameter names, which are arbitrary),
 depending on the value of <a href="#type()"><code>type()</code></a>:

 <dl>
 <dt><span class="strong"><a href="HookType.html#BEFORE"><code>HookType.BEFORE</code></a></span>
 <dd>
 <pre><code>
 public static void hook(MethodHandle method, Object thisObject, Object[] arguments, int hookId)
 </code></pre>
 Arguments:
 <p><ul>
 <li><code>method</code>: A <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html" title="class or interface in java.lang.invoke" class="external-link"><code>MethodHandle</code></a> representing the
 original method. The original method can be invoked via
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html#invokeWithArguments(java.lang.Object...)" title="class or interface in java.lang.invoke" class="external-link"><code>MethodHandle.invokeWithArguments(Object...)</code></a>. This
 requires passing <code>thisObject</code> as the first argument if the method is
 not static. This argument can be <code>null</code>.
 <li><code>thisObject</code>: An <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a> containing the implicit
 <code>this</code> argument to the original method. If the original method is
 static, this argument will be <code>null</code>.
 <li><code>arguments</code>: An array of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a>s containing the arguments
 passed to the original method. Primitive types (e.g. <code>boolean</code>) will be
 wrapped into their corresponding wrapper type (e.g. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link"><code>Boolean</code></a>).
 <li><code>hookId</code>: A random <code>int</code> identifying the particular call
 site.This can be used to derive additional coverage information.
 </ul>

 <dt><span class="strong"><a href="HookType.html#REPLACE"><code>HookType.REPLACE</code></a></span>
 <dd>
 <pre><code>
 public static Object hook(MethodHandle method, Object thisObject, Object[] arguments, int hookId)
 </code></pre>
 The return type may alternatively be taken to be the exact return type of
 target method or a wrapper type thereof. The returned object will be casted
 and unwrapped automatically.
 <p>
 Arguments:
 <p><ul>
 <li><code>method</code>: A <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html" title="class or interface in java.lang.invoke" class="external-link"><code>MethodHandle</code></a> representing the
 original method. The original method can be invoked via
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html#invokeWithArguments(java.lang.Object...)" title="class or interface in java.lang.invoke" class="external-link"><code>MethodHandle.invokeWithArguments(Object...)</code></a>. This
 requires passing <code>thisObject</code> as the first argument if the method is
 not static. This argument can be <code>null</code>.
 <li><code>thisObject</code>: An <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a> containing the implicit
 <code>this</code> argument to the original method. If the original method is
 static, this argument will be <code>null</code>.
 <li><code>arguments</code>: An array of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a>s containing the arguments
 passed to the original method. Primitive types (e.g. <code>boolean</code>) will be
 wrapped into their corresponding wrapper type (e.g. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link"><code>Boolean</code></a>).
 <li><code>hookId</code>: A random <code>int</code> identifying the particular call
 site.This can be used to derive additional coverage information.
 </ul><p>
 <p>
 Return value: the value that should take the role of the value the target
 method would have returned
 <p>
 <dt><span class="strong"><a href="HookType.html#AFTER"><code>HookType.AFTER</code></a></span>
 <dd>
 <pre><code>
 public static void hook(MethodHandle method, Object thisObject, Object[] arguments, int hookId,
 Object returnValue)
 </code></pre>
 Arguments:
 <p><ul>
 <li><code>method</code>: A <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html" title="class or interface in java.lang.invoke" class="external-link"><code>MethodHandle</code></a> representing the
 original method. The original method can be invoked via
 <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodHandle.html#invokeWithArguments(java.lang.Object...)" title="class or interface in java.lang.invoke" class="external-link"><code>MethodHandle.invokeWithArguments(Object...)</code></a>. This
 requires passing <code>thisObject</code> as the first argument if the method is
 not static. This argument can be <code>null</code>.
 <li><code>thisObject</code>: An <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a> containing the implicit
 <code>this</code> argument to the original method. If the original method is
 static, this argument will be <code>null</code>.
 <li><code>arguments</code>: An array of <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a>s containing the arguments
 passed to the original method. Primitive types (e.g. <code>boolean</code>) will be
 wrapped into their corresponding wrapper type (e.g. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link"><code>Boolean</code></a>).
 <li><code>hookId</code>: A random <code>int</code> identifying the particular call
 site.This can be used to derive additional coverage information.
 <li><code>returnValue</code>: An <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link"><code>Object</code></a> containing the return value of the
 invocation of the original method. Primitive types (e.g. <code>boolean</code>)
 will be wrapped into their corresponding wrapper type (e.g. <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Boolean.html" title="class or interface in java.lang" class="external-link"><code>Boolean</code></a>).
 If the original method has return type <code>void</code>, this value will be
 <code>null</code>.
 <p>
 Multiple <a href="HookType.html#BEFORE"><code>HookType.BEFORE</code></a> and <a href="HookType.html#AFTER"><code>HookType.AFTER</code></a> hooks are
 allowed to reference the same target method. Exclusively one
 <a href="HookType.html#REPLACE"><code>HookType.REPLACE</code></a> hook may reference a target method, no other types
 allowed. Attention must be paid to not guide the Fuzzer in different
 directions via <a href="Jazzer.html" title="class in com.code_intelligence.jazzer.api"><code>Jazzer</code></a>'s <code>guideTowardsXY</code> methods in the
 different hooks.</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- =========== ANNOTATION INTERFACE REQUIRED MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-required-element-summary">
<h2>Required Element Summary</h2>
<div class="caption"><span>Required Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Required Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#targetClassName()" class="member-name-link">targetClassName</a></code></div>
<div class="col-last even-row-color">
<div class="block">The name of the class that contains the method that should be hooked,
 as returned by <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName()" title="class or interface in java.lang" class="external-link"><code>Class.getName()</code></a>.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#targetMethod()" class="member-name-link">targetMethod</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The name of the method to be hooked.</div>
</div>
<div class="col-first even-row-color"><code><a href="HookType.html" title="enum class in com.code_intelligence.jazzer.api">HookType</a></code></div>
<div class="col-second even-row-color"><code><a href="#type()" class="member-name-link">type</a></code></div>
<div class="col-last even-row-color">
<div class="block">The time at which the annotated method should be called.</div>
</div>
</div>
</section>
</li>
<!-- =========== ANNOTATION INTERFACE OPTIONAL MEMBER SUMMARY =========== -->
<li>
<section class="member-summary" id="annotation-interface-optional-element-summary">
<h2>Optional Element Summary</h2>
<div class="caption"><span>Optional Elements</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Optional Element</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</code></div>
<div class="col-second even-row-color"><code><a href="#additionalClassesToHook()" class="member-name-link">additionalClassesToHook</a></code></div>
<div class="col-last even-row-color">
<div class="block">Array of additional classes to hook.</div>
</div>
<div class="col-first odd-row-color"><code><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second odd-row-color"><code><a href="#targetMethodDescriptor()" class="member-name-link">targetMethodDescriptor</a></code></div>
<div class="col-last odd-row-color">
<div class="block">The descriptor of the method to be hooked.</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details" id="annotation-interface-element-detail">
<ul class="details-list">
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<h2>Element Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="type()">
<h3>type</h3>
<div class="member-signature"><span class="return-type"><a href="HookType.html" title="enum class in com.code_intelligence.jazzer.api">HookType</a></span>&nbsp;<span class="element-name">type</span></div>
<div class="block">The time at which the annotated method should be called.
 <p>
 If this is <a href="HookType.html#BEFORE"><code>HookType.BEFORE</code></a>, the annotated method will be called
 before the target method and has access to its arguments.
 <p>
 If this is <a href="HookType.html#REPLACE"><code>HookType.REPLACE</code></a>, the annotated method will be called
 instead of the target method. It has access to its arguments and can
 return a value that will replace the target method's return value.
 <p>
 If this is <a href="HookType.html#AFTER"><code>HookType.AFTER</code></a>, the annotated method will be called
 after the target method and has access to its arguments and return
 value.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>when the hook should be called</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="targetClassName()">
<h3>targetClassName</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">targetClassName</span></div>
<div class="block">The name of the class that contains the method that should be hooked,
 as returned by <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/Class.html#getName()" title="class or interface in java.lang" class="external-link"><code>Class.getName()</code></a>.
 <p>
 If an interface or abstract class is specified, also calls to all
 implementations and subclasses available on the classpath during startup
 are hooked, respectively. Interfaces and subclasses are not taken into
 account for concrete classes.
 <p>
 Examples:
 <p><ul>
 <li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link"><code>String</code></a>: <code>"java.lang.String"</code>
 <li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/nio/file/FileSystem.html" title="class or interface in java.nio.file" class="external-link"><code>FileSystem</code></a>: <code>"java.nio.file.FileSystem"</code>
 </ul><p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the class containing the method to be hooked</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="targetMethod()">
<h3>targetMethod</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">targetMethod</span></div>
<div class="block">The name of the method to be hooked. Use <code>"&lt;init&gt;"</code> for
 constructors.
 <p>
 Examples:
 <p><ul>
 <li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link"><code>String.equals(Object)</code></a>: <code>"equals"</code>
 <li><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html#%3Cinit%3E()" title="class or interface in java.lang" class="external-link"><code>String()</code></a>: <code>"&lt;init&gt;"</code>
 </ul><p></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the name of the method to be hooked</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ ANNOTATION INTERFACE MEMBER DETAIL =========== -->
<li>
<section class="member-details">
<ul class="member-list">
<li>
<section class="detail" id="targetMethodDescriptor()">
<h3>targetMethodDescriptor</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">targetMethodDescriptor</span></div>
<div class="block">The descriptor of the method to be hooked. This is only needed if there
 are multiple methods with the same name and not all of them should be
 hooked.
 <p>
 The descriptor of a method is an internal representation of the method's
 signature, which includes the types of its parameters and its return
 value. For more information on descriptors, see the
 <a href=https://docs.oracle.com/javase/specs/jvms/se15/html/jvms-4.html#jvms-4.3.3>JVM
 Specification, Section 4.3.3</a> and <a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/invoke/MethodType.html#toMethodDescriptorString()" title="class or interface in java.lang.invoke" class="external-link"><code>MethodType.toMethodDescriptorString()</code></a></div>
<dl class="notes">
<dt>Returns:</dt>
<dd>the descriptor of the method to be hooked</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>""</dd>
</dl>
</section>
</li>
<li>
<section class="detail" id="additionalClassesToHook()">
<h3>additionalClassesToHook</h3>
<div class="member-signature"><span class="return-type"><a href="https://docs.oracle.com/en/java/javase/17/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]</span>&nbsp;<span class="element-name">additionalClassesToHook</span></div>
<div class="block">Array of additional classes to hook.
 <p>
 Hooks are applied on call sites. This means that classes calling the one
 defined in this annotation need to be instrumented to actually execute
 the hook. This property can be used to hook normally ignored classes.</div>
<dl class="notes">
<dt>Returns:</dt>
<dd>fully qualified class names to hook</dd>
</dl>
<dl class="notes">
<dt>Default:</dt>
<dd>{}</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</div>
</body>
</html>
